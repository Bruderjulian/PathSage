var t,e;t=this,e=function(){"use strict";function t(t){if("object"!=typeof t||null===t)throw SyntaxError("Invalid Object Type")}function e(t){if("string"!=typeof t)throw TypeError("Invalid Notation Type");if(0!==t.length){if(!function(t){let e,r=0;for(let n=0,o=t.length;n<o;n++)"["===(e=t[n])?r++:"]"===e&&r--;return 0===r}(t))throw SyntaxError("All brackets must be placed correctly");if(!function(t){let e,r;for(let n=0,o=t.length;n<o;n++)("'"===(e=t[n])||'"'===e||"`"===e)&&(r?r===e&&(r=void 0):r=e);return void 0===r}(t))throw SyntaxError("All Quotes must be placed correctly")}}let r=Array.isArray;function n(t){return"object"!=typeof t||null===t}let o=new Set(["this","__proto__","prototype","constructor"]),i=new Set(["['']",'[""]',"[``]",""]),l=(function(t,e,r){return e[r]}).bind(null,null),u=function(t,e,r){e[r]=t},f=(function(t,e,n){if(r(e)){if(isNaN(n=parseInt(n,10)))throw"key is NaN";e.splice(n,1)}else delete e[n]}).bind(null,null);function c(t,e,r){return 0===r.length?e:function e(r,o){if(1===o.length)return t(r,o[0]);let i=r[o.pop()];if(n(i))throw EvalError("Could not fully evaluate the object path");return e(i,o)}(e,r)}function s(t){return/\.|\[|\]|\"|\'|\s/.test(t)?t.includes('"')?`['${t}']`:`["${t}"]`:t}function a(t){let e,n="",o=t.length,i=0;if(1===o||!r(t))return s(t[0]);for(;i<o;i++)"number"==typeof(e=t[i])?n+=`[${e}]`:(e=s(e),n+=0===i?e:`.${e}`);return n}function p(t,e){var n=[],o=r(t);for(let[r,i]of Object.entries(t))o&&(r=parseInt(r,10)),"object"!=typeof i||null===i||0===Object.keys(i).length?e.length>0?n.push(a([...e,r])):n.push(a([r])):n.push(...p(i,[...e,r]));return n}var h={},y=!1,d=0,b=-1;let unPathify=class unPathify{static setProperty(e,r,n){t(e),c(u.bind(null,n),e,g(r))}static getProperty(e,r){return t(e),c(l,e,g(r))}static hasProperty(e,r,o=!1){return t(e),function t(e,r,o,i){if(0===r.length)return!0;let l=r.pop(),u=e[l];return n(u)&&0!==r.length||!Object.hasOwn(e,l)?!!o&&{depth:i,left:++r.length,failedKey:l,currentObject:e}:t(u,r,o,++i)}(e,g(r),o,0)}static removeProperty(e,r){t(e),c(f,e,g(r))}static deleteProperty(e,r){t(e),c(f,e,g(r))}static create(e,r){if(void 0===e)return{};t(e),function t(e,r){if(1===r.length){let t=r[0];return Object.hasOwn(e,t)||(e[t]={}),e}let o=r.pop(),i=e[o];return n(i,o)&&(e[o]=i={}),t(i,r),e}(e,g(r))}static validate(t){r(t)?function(t){for(let e=0,r=t.length;e<r;e++)if("string"!=typeof t[e])throw TypeError("Invalid Token Type")}(t):e(t)}static keys(e){return t(e),p(e,[])}static getPaths(e){return t(e),p(e,[])}static clearCache(){h={},d=0}static configure(t){if(void 0===t)return;if(n(t)||r(t))throw TypeError("Invalid Options Type");"boolean"==typeof t.allowKeys&&(y=t.allowKeys);let e=parseInt(t.cacheSize,10);"number"==typeof e&&!isNaN(e)&&e>=-1&&(b=e)}};function g(t){if(Object.hasOwn(h,t))return h[t].slice(0)||[];e(t);var n=(function(t,e){let n,l;let u=[],f=/\[\s*(\d+)(?=\s*])|\[\s*(["'`])((?:\\.|(?!\2).)*)\2\s*]|[\w$]+/g;for(;n=f.exec(t);)if(l=n[1]||n[3]||n[0],!i.has(l)){if(!e&&o.has(l))throw SyntaxError("Disallowed Key encountered");u.push(l)}if(!r(u))throw SyntaxError("Could not tokenize Notation");return u})(t,y).reverse();return++d>b&&-1!==b&&(h={},d=1),h[t]=n,n.slice(0)}module.exports=unPathify},"object"==typeof module&&"object"==typeof module.exports?e():"function"==typeof define&&define.amd?define([],e):(t="undefined"!=typeof globalThis?globalThis:t||self)&&e();